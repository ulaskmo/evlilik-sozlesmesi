<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evlilik SÃ¶zleÅŸmesi</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Dancing+Script:wght@400;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Playfair Display', serif;
            background: linear-gradient(135deg, #ffeef8 0%, #fff0f5 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
        }

        .header {
            background: linear-gradient(135deg, #ff6b9d, #ff8fab);
            color: white;
            padding: 40px;
            text-align: center;
            position: relative;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="2" fill="rgba(255,255,255,0.1)"/></svg>') repeat;
            animation: sparkle 10s linear infinite;
        }

        @keyframes sparkle {
            0% { transform: translateX(0) translateY(0); }
            100% { transform: translateX(-50px) translateY(-50px); }
        }

        .title {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5em;
            font-weight: 700;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .content {
            padding: 40px;
            line-height: 1.6;
        }

        .parties {
            background: linear-gradient(135deg, #fff0f5, #ffeef8);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            border-left: 5px solid #ff6b9d;
        }

        .parties h3 {
            color: #ff6b9d;
            margin-bottom: 15px;
            font-family: 'Dancing Script', cursive;
            font-size: 1.8em;
        }

        .party {
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .party strong {
            color: #333;
        }

        .intro {
            text-align: center;
            font-style: italic;
            color: #666;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 107, 157, 0.1);
            border-radius: 10px;
        }

        .article {
            margin-bottom: 30px;
            padding: 25px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border: 2px solid #ffeef8;
            transition: transform 0.3s ease;
        }

        .article:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .article h4 {
            color: #ff6b9d;
            font-family: 'Dancing Script', cursive;
            font-size: 1.6em;
            margin-bottom: 15px;
            border-bottom: 2px solid #ffeef8;
            padding-bottom: 10px;
        }

        .article ol {
            margin-left: 20px;
        }

        .article li {
            margin-bottom: 10px;
            color: #444;
        }

        .signature-section {
            background: linear-gradient(135deg, #fff0f5, #ffeef8);
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
        }

        .date-location {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .date-location div {
            color: #ff6b9d;
            font-weight: bold;
        }

        .signatures {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-top: 30px;
        }

        .signature-box {
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .signature-box h5 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.2em;
        }

        .signature-canvas {
            border: 2px solid #ff6b9d;
            border-radius: 8px;
            margin: 20px 0;
            cursor: crosshair;
            background: #fafafa;
            display: block;
        }

        .signature-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }

        .signature-btn {
            background: #ff6b9d;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .signature-btn:hover {
            background: #ff8fab;
            transform: translateY(-2px);
        }

        .signature-label {
            text-align: center;
            color: #999;
            font-size: 0.9em;
            margin-top: 10px;
        }

        .hearts {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2em;
            color: rgba(255, 107, 157, 0.3);
            animation: heartbeat 2s ease-in-out infinite;
        }

        @keyframes heartbeat {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .action-buttons {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 1000;
        }

        .print-btn, .submit-btn {
            background: linear-gradient(135deg, #ff6b9d, #ff8fab);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 50px;
            font-family: 'Playfair Display', serif;
            font-size: 1em;
            cursor: pointer;
            box-shadow: 0 10px 25px rgba(255, 107, 157, 0.3);
            transition: all 0.3s ease;
            min-width: 180px;
        }

        .submit-btn {
            background: linear-gradient(135deg, #28a745, #34ce57);
            box-shadow: 0 10px 25px rgba(40, 167, 69, 0.3);
        }

        .print-btn:hover, .submit-btn:hover {
            transform: translateY(-3px);
        }

        .print-btn:hover {
            box-shadow: 0 15px 35px rgba(255, 107, 157, 0.4);
        }

        .submit-btn:hover {
            box-shadow: 0 15px 35px rgba(40, 167, 69, 0.4);
        }

        .submit-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #ffffff;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @media print {
            .print-btn {
                display: none;
            }
            
            body {
                background: white;
                padding: 0;
            }
            
            .container {
                box-shadow: none;
                border-radius: 0;
            }
        }

        .emoji {
            font-size: 1.2em;
            margin-right: 8px;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 10px;
            }
            
            .signatures {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .date-location {
                flex-direction: column;
                gap: 10px;
            }
            
            .title {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="hearts">ğŸ’•</div>
        
        <div class="header">
            <h1 class="title">ğŸ“ Evlilik SÃ¶zleÅŸmesi</h1>
            <p class="subtitle">(Åaka Ama Ciddi Gibi)</p>
        </div>

        <div class="content">
            <div class="parties">
                <h3>Taraflar</h3>
                <div class="party">
                    <strong>1. Taraf (Gelin AdayÄ±):</strong> Nidanur Cansaran
                </div>
                <div class="party">
                    <strong>2. Taraf (Damat AdayÄ±):</strong> UlaÅŸ KaramustafaoÄŸlu
                </div>
            </div>

            <div class="intro">
                AÅŸaÄŸÄ±daki maddeler, tamamen eÄŸlence amaÃ§lÄ± hazÄ±rlanmÄ±ÅŸ olup, 
                gÃ¶nÃ¼l rÄ±zasÄ±yla gÃ¼lerek imzalanmasÄ± beklenmektedir. ğŸ’˜
            </div>

            <div class="article">
                <h4><span class="emoji">â˜•</span>Madde 1 â€“ Kahve Yetkisi</h4>
                <ol>
                    <li>Taraf 1, sabah kahvesini uyanÄ±r uyanmaz, somurtmadan getirmekle yÃ¼kÃ¼mlÃ¼dÃ¼r.</li>
                    <li>Taraf 2, kahveye ÅŸekersiz dediÄŸinde "emin misin?" diye sormayacaktÄ±r.</li>
                </ol>
            </div>

            <div class="article">
                <h4><span class="emoji">ğŸ“º</span>Madde 2 â€“ Dizi Ä°zleme ProtokolÃ¼</h4>
                <ol>
                    <li>Ortak dizi seÃ§ildiÄŸinde, bÃ¶lÃ¼mler gizlice Ã¶nden izlenmeyecektir.</li>
                    <li>Spoiler veren taraf, 1 hafta boyunca TV kumandasÄ±ndan men edilecektir.</li>
                </ol>
            </div>

            <div class="article">
                <h4><span class="emoji">ğŸ½ï¸</span>Madde 3 â€“ Yemek SavaÅŸlarÄ±</h4>
                <ol>
                    <li>Ne yiyeceÄŸimize karar verilemiyorsa, karar hakkÄ± Taraf 1'e aittir.</li>
                    <li>Taraf 2, "Farketmez" cevabÄ±ndan sonra gelen her yemeÄŸi gÃ¶nÃ¼l rahatlÄ±ÄŸÄ±yla yemek zorundadÄ±r.</li>
                </ol>
            </div>

            <div class="article">
                <h4><span class="emoji">ğŸ’š</span>Madde 4 â€“ KÄ±skanÃ§lÄ±k Maddesi</h4>
                <ol>
                    <li>Taraf 1, Damat AdayÄ±'nÄ±n konsol oyunlarÄ±ndaki rakiplerini kÄ±skanmayacaktÄ±r.</li>
                    <li>Taraf 2, Taraf 1'in tÃ¼m Instagram hikayelerine kalp bÄ±rakmakla yÃ¼kÃ¼mlÃ¼dÃ¼r.</li>
                </ol>
            </div>

            <div class="article">
                <h4><span class="emoji">ğŸ«</span>Madde 5 â€“ TatlÄ± HakkÄ±</h4>
                <ol>
                    <li>Taraf 1'in canÄ± tatlÄ± Ã§ektiÄŸinde "yeni yedik ya" demek yasaktÄ±r.</li>
                    <li>Ã‡ikolata stoÄŸu tÃ¼kenmeyecek ÅŸekilde dÃ¼zenli olarak yenilenecektir.</li>
                </ol>
            </div>

            <div class="article">
                <h4><span class="emoji">ğŸ¤—</span>Madde 6 â€“ SarÄ±lma ZorunluluÄŸu</h4>
                <ol>
                    <li>GÃ¼nde minimum 3 sarÄ±lma yapÄ±lacaktÄ±r. Sabah â€“ AkÅŸam â€“ Arada.</li>
                    <li>SarÄ±lmama durumunda gÃ¶nÃ¼l alma hediyesiyle telafi zorunludur.</li>
                </ol>
            </div>

            <div class="article">
                <h4><span class="emoji">â¤ï¸</span>Madde 7 â€“ TartÄ±ÅŸma SonrasÄ± KuralÄ±</h4>
                <ol>
                    <li>TartÄ±ÅŸma sonunda kim haklÄ± olursa olsun, Taraf 2 Ã¶zÃ¼r dilemekle mÃ¼kelleftir.</li>
                    <li>SarÄ±lmadan uyumak yasaktÄ±r.</li>
                </ol>
            </div>

            <div class="signature-section">
                <div class="date-location">
                    <div>ğŸ“… <strong>Tarih:</strong> 17/07/2025</div>
                    <div>ğŸ“ <strong>Yer:</strong> Kalplerimiz ğŸ’˜</div>
                </div>

                <div class="signatures">
                    <div class="signature-box">
                        <h5>Taraf 1 (Gelin AdayÄ±)</h5>
                        <canvas id="signature1" class="signature-canvas" width="250" height="100"></canvas>
                        <div class="signature-controls">
                            <button class="signature-btn" onclick="clearSignature('signature1')">ğŸ—‘ï¸ Temizle</button>
                        </div>
                        <div class="signature-label">Nidanur Cansaran</div>
                    </div>
                    <div class="signature-box">
                        <h5>Taraf 2 (Damat AdayÄ±)</h5>
                        <canvas id="signature2" class="signature-canvas" width="250" height="100"></canvas>
                        <div class="signature-controls">
                            <button class="signature-btn" onclick="clearSignature('signature2')">ğŸ—‘ï¸ Temizle</button>
                        </div>
                        <div class="signature-label">UlaÅŸ KaramustafaoÄŸlu</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="action-buttons">
        <button class="submit-btn" id="submitBtn" onclick="submitContract()">
            ğŸ’¾ Kaydet ve GÃ¶nder
        </button>
        <button class="print-btn" onclick="window.print()">
            ğŸ“„ PDF olarak yazdÄ±r
        </button>
    </div>

    <script>
        // Signature functionality
        let isDrawing = false;
        let currentCanvas = null;
        let currentContext = null;

        function initializeSignature(canvasId) {
            const canvas = document.getElementById(canvasId);
            const ctx = canvas.getContext('2d');
            
            // Set up canvas properties
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            
            // Mouse events
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);
            
            // Touch events for mobile
            canvas.addEventListener('touchstart', handleTouch);
            canvas.addEventListener('touchmove', handleTouch);
            canvas.addEventListener('touchend', stopDrawing);
            
            function startDrawing(e) {
                isDrawing = true;
                currentCanvas = canvas;
                currentContext = ctx;
                
                const rect = canvas.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                ctx.beginPath();
                ctx.moveTo(x, y);
            }
            
            function draw(e) {
                if (!isDrawing || currentCanvas !== canvas) return;
                
                const rect = canvas.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                ctx.lineTo(x, y);
                ctx.stroke();
            }
            
            function stopDrawing() {
                if (currentCanvas === canvas) {
                    isDrawing = false;
                    currentCanvas = null;
                    currentContext = null;
                }
            }
            
            function handleTouch(e) {
                e.preventDefault();
                const touch = e.touches[0];
                const mouseEvent = new MouseEvent(e.type === 'touchstart' ? 'mousedown' : 
                                                 e.type === 'touchmove' ? 'mousemove' : 'mouseup', {
                    clientX: touch.clientX,
                    clientY: touch.clientY
                });
                canvas.dispatchEvent(mouseEvent);
            }
        }

        function clearSignature(canvasId) {
            const canvas = document.getElementById(canvasId);
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        // Check if both signatures are present
        function hasSignatures() {
            const canvas1 = document.getElementById('signature1');
            const canvas2 = document.getElementById('signature2');
            const ctx1 = canvas1.getContext('2d');
            const ctx2 = canvas2.getContext('2d');
            
            // Check if canvas has any drawing
            const imageData1 = ctx1.getImageData(0, 0, canvas1.width, canvas1.height);
            const imageData2 = ctx2.getImageData(0, 0, canvas2.width, canvas2.height);
            
            let hasDrawing1 = false;
            let hasDrawing2 = false;
            
            for (let i = 0; i < imageData1.data.length; i += 4) {
                if (imageData1.data[i + 3] > 0) { // Alpha channel
                    hasDrawing1 = true;
                    break;
                }
            }
            
            for (let i = 0; i < imageData2.data.length; i += 4) {
                if (imageData2.data[i + 3] > 0) { // Alpha channel
                    hasDrawing2 = true;
                    break;
                }
            }
            
            return hasDrawing1 && hasDrawing2;
        }

        // Generate PDF and send email
        async function submitContract() {
            const submitBtn = document.getElementById('submitBtn');
            
            // Check if both signatures are present
            if (!hasSignatures()) {
                alert('LÃ¼tfen her iki tarafÄ±n da imzasÄ±nÄ± tamamlayÄ±n! ğŸ’•');
                return;
            }
            
            // Disable button and show loading
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<span class="loading"></span> GÃ¶nderiliyor...';
            
            try {
                // Create a temporary element for PDF generation
                const printContent = document.querySelector('.container').cloneNode(true);
                
                // Remove hearts animation for PDF
                const hearts = printContent.querySelector('.hearts');
                if (hearts) hearts.remove();
                
                // Create a new window for PDF generation
                const printWindow = window.open('', '_blank');
                printWindow.document.write(`
                    <!DOCTYPE html>
                    <html>
                    <head>
                        <title>Evlilik SÃ¶zleÅŸmesi - Nidanur & UlaÅŸ</title>
                        <style>
                            ${document.querySelector('style').innerHTML}
                            body { background: white !important; padding: 20px !important; }
                            .container { box-shadow: none !important; }
                            .action-buttons { display: none !important; }
                        </style>
                    </head>
                    <body>
                        ${printContent.outerHTML}
                    </body>
                    </html>
                `);
                
                printWindow.document.close();
                
                // Wait a moment for content to load
                setTimeout(() => {
                    printWindow.print();
                    printWindow.close();
                }, 1000);
                
                // Simulate email sending (in a real application, this would be a server-side operation)
                await simulateEmailSending();
                
                // Success message
                alert('ğŸ‰ SÃ¶zleÅŸme baÅŸarÄ±yla kaydedildi ve e-posta adreslerine gÃ¶nderildi!\n\nğŸ“§ nidanurcansaran@gmail.com\nğŸ“§ ulaskmo@gmail.com\n\nğŸ’• Mutluluklar dileriz!');
                
            } catch (error) {
                console.error('Error:', error);
                alert('âŒ Bir hata oluÅŸtu. LÃ¼tfen tekrar deneyin.');
            } finally {
                // Re-enable button
                submitBtn.disabled = false;
                submitBtn.innerHTML = 'ğŸ’¾ Kaydet ve GÃ¶nder';
            }
        }

        // Simulate email sending process
        function simulateEmailSending() {
            return new Promise((resolve) => {
                // Simulate API call delay
                setTimeout(() => {
                    console.log('Email sent to:');
                    console.log('- nidanurcansaran@gmail.com');
                    console.log('- ulaskmo@gmail.com');
                    resolve();
                }, 2000);
            });
        }

        // Sayfa yÃ¼klendiÄŸinde animasyonlar ve imza alanlarÄ±nÄ± baÅŸlat
        document.addEventListener('DOMContentLoaded', function() {
            const articles = document.querySelectorAll('.article');
            
            articles.forEach((article, index) => {
                setTimeout(() => {
                    article.style.opacity = '0';
                    article.style.transform = 'translateY(20px)';
                    article.style.transition = 'all 0.6s ease';
                    
                    setTimeout(() => {
                        article.style.opacity = '1';
                        article.style.transform = 'translateY(0)';
                    }, 100);
                }, index * 100);
            });
            
            // Initialize signature canvases
            initializeSignature('signature1');
            initializeSignature('signature2');
        });

        // Kalp animasyonu
        setInterval(() => {
            const hearts = document.querySelector('.hearts');
            hearts.innerHTML = hearts.innerHTML === 'ğŸ’•' ? 'ğŸ’–' : 'ğŸ’•';
        }, 2000);
    </script>
</body>
</html>
